let pokemonRepository = function () {
    let e = [];
    function t() { return e } function n() { return e } function o(t) { "object" == typeof t && "name" in t && "detailsUrl" in t ? e.push(t) : console.log("Please use only the keys: name & detailsUrl") } function i(e) { return l(), fetch(e.detailsUrl).then(function (e) { return e.json() }).then(function (t) { e.imageUrl = t.sprites.front_default, e.modalImageUrl = t.sprites.other["official-artwork"].front_default, e.abilities = t.abilities, e.height = t.height, e.types = t.types, r() }).catch(function (e) { console.trace(e), r() }) } function a(e) { i(e).then(function () { var t; let n, o, i, a, l, r, s, c; t = e, n = document.querySelector(".modal-title"), o = document.querySelector(".modal-body"), n.innerText = "", o.innerText = "", n.innerText = t.name, i = document.createElement("img"), i.src = t.modalImageUrl, console.log("img2", i), a = document.createElement("p"), a.innerText = "Height: " + t.height, l = document.createElement("p"), r = t.abilities.map(e => e.ability.name), l.innerText = "Abilities: " + r.map(e => e.charAt(0).toUpperCase() + e.slice(1)), s = document.createElement("p"), c = t.types.map(e => e.type.name), s.innerText = "Type: " + c.map(e => e.charAt(0).toUpperCase() + e.slice(1)), o.appendChild(a), o.appendChild(s), o.appendChild(l), o.appendChild(i) }) } function l() { let e = document.createElement("h2"); return e.classList.add("load-message"), e.innerHTML = "The List Is Loading...", document.body.appendChild(e), e } function r() { let e = document.querySelector(".load-message"); document.body.removeChild(e) } return { getAll: n, add: o, addListItem: function e(t) { i(t).then(function () { let e = document.querySelector(".pokemon-list"), n = document.createElement("div"); n.classList.add("button-div", "col-6", "col-md-3", "col-sm-4", "mb-3"); let o = document.createElement("button"); o.classList.add("button-class"), o.setAttribute("data-toggle", "modal"), o.setAttribute("data-target", "#pokemonModal"); let i = document.createElement("div"); i.classList.add("div-name"), i.innerText = t.name; let l = document.createElement("img"); l.src = t.imageUrl, l.alt = "A picture of " + t.name, o.appendChild(i), o.appendChild(l), n.appendChild(o), e.appendChild(n), function e(t, n) { t.addEventListener("click", function () { a(n) }) }(o, t) }) }, showDetails: a, loadList: function e() { return l(), fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function (e) { return e.json() }).then(function (e) { e.results.forEach(function (e) { o({ name: e.name, detailsUrl: e.url }) }), r() }).catch(function (e) { console.error(e), r() }) }, loadDetails: i, getPokemonList: t, displayLoadingMessage: l, findPokemon: function e() { let t = document.querySelectorAll(".button-div"); t.forEach(function (e) { e.style.display = "" }); let n = document.querySelector("#searchInput").value.toUpperCase(), o = !1; for (let i = 0; i < t.length; i++)t[i].querySelector(".div-name").innerText.indexOf(n) > -1 ? (t[i].style.display = "", o = !0) : t[i].style.display = "none"; let a = document.querySelector(".no-pokemon-message"); if (a && a.remove(), !o) { let l = document.querySelector("main"), r = document.createElement("h2"); r.classList.add("no-pokemon-message"), r.innerText = "No Pokemon Matches The Search, Please Try Again. \uD83D\uDE03", l.appendChild(r) } document.querySelector("#searchInput").value = "" } }
}(); pokemonRepository.loadList().then(function () { pokemonRepository.getAll().forEach(function (e) { pokemonRepository.addListItem(e) }) }), document.querySelector("#searchButton").addEventListener("click", pokemonRepository.findPokemon), document.querySelector("#searchInput").addEventListener("keydown", function (e) { "Enter" === e.key && pokemonRepository.findPokemon() });